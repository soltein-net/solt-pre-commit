# =============================================================================
# VALIDATION WORKFLOW
# =============================================================================
# Generated by: solt-pre-commit setup-repo.py
# Calls the centralized reusable workflow from solt-pre-commit
#
# =============================================================================

name: Validate

on:
  pull_request:
    branches: [main, master, develop, "17.0", "18.0"]
  push:
    branches: [main, master, develop, "17.0", "18.0"]

jobs:
  validate:
    name: Solt Validation
    uses: soltein-net/solt-pre-commit/.github/workflows/solt_validate.yml@v1.0.0
    with:
      # ─── Basic Configuration ───
      python-version: '3.11'
      odoo-version: '17.0'

      # ─── Validation Scope ───
      # 'changed': Only files modified in PR (recommended for legacy repos)
      # 'full': Entire repository
      validation-scope: 'changed'

      # ─── Coverage (optional) ───
      run-coverage: true
      coverage-threshold: 60

      # ─── Strictness Level ───
      fail-on-warnings: true    # Set to true for stricter validation
      show-info: false          # Set to true to see all issues

      # ─── Badge Configuration (optional) ───
      # For dynamic badges:
      # 1. Create an empty Gist
      # 2. Create GIST_SECRET with a GitHub token
      # gist-id: 'YOUR_GIST_ID_HERE'

    secrets:
      GIST_SECRET: ${{ secrets.GIST_SECRET }}