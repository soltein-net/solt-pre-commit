# =============================================================================
# PYLINT CONFIGURATION FOR ODOO MODULES - SOLTEIN
# =============================================================================
# This file is copied to client repositories by solt-pre-commit
# =============================================================================

[MASTER]
load-plugins=pylint_odoo
score=no

[ODOOLINT]
# README template URL
readme-template-url=https://github.com/soltein-net/solt-pre-commit/blob/main/templates/README-template.md

# Required author in manifest
manifest-required-authors=Soltein SA de CV

# Required keys in manifest
manifest-required-keys=license

# Deprecated keys in manifest
manifest-deprecated-keys=description,active

# Allowed licenses
license-allowed=AGPL-3,GPL-2,GPL-2 or any later version,GPL-3,GPL-3 or any later version,LGPL-3

# Valid Odoo versions
valid-odoo-versions=17.0,18.0

[MESSAGES CONTROL]
disable=all

# =============================================================================
# ENABLED CHECKS - Explicit whitelist approach (like OCA)
# =============================================================================
# This configuration enables specific checks rather than disabling some.
# This gives more control and visibility over what is being checked.
# =============================================================================
enable=
    # -------------------------------------------------------------------------
    # CRITICAL - Syntax and Runtime Errors (always blocking)
    # -------------------------------------------------------------------------
    xml-syntax-error,
    po-syntax-error,
    duplicate-key,
    duplicate-id-csv,
    duplicate-xml-record-id,
    duplicate-xml-fields,
    duplicate-po-message-definition,
    sql-injection,
    eval-used,
    eval-referenced,
    
    # -------------------------------------------------------------------------
    # MANIFEST CHECKS
    # -------------------------------------------------------------------------
    manifest-required-author,
    manifest-required-key,
    manifest-version-format,
    manifest-author-string,
    manifest-deprecated-key,
    license-allowed,
    development-status-allowed,
    
    # -------------------------------------------------------------------------
    # ODOO API CHECKS
    # -------------------------------------------------------------------------
    api-one-deprecated,
    api-one-multi-together,
    method-compute,
    method-inverse,
    method-search,
    method-required-super,
    openerp-exception-warning,
    translation-field,
    translation-required,
    translation-contains-variable,
    translation-positional-used,
    
    # -------------------------------------------------------------------------
    # XML/VIEW CHECKS
    # -------------------------------------------------------------------------
    dangerous-view-replace-wo-priority,
    dangerous-qweb-replace-wo-priority,
    redundant-modulename-xml,
    deprecated-data-xml-node,
    deprecated-openerp-xml-node,
    xml-attribute-translatable,
    xml-deprecated-qweb-directive,
    xml-deprecated-tree-attribute,
    character-not-valid-in-resource-link,
    
    # -------------------------------------------------------------------------
    # SECURITY CHECKS
    # -------------------------------------------------------------------------
    create-user-wo-reset-password,
    dangerous-filter-wo-user,
    external-request-timeout,
    
    # -------------------------------------------------------------------------
    # CODE QUALITY CHECKS
    # -------------------------------------------------------------------------
    anomalous-backslash-in-string,
    dangerous-default-value,
    assignment-from-none,
    pointless-statement,
    pointless-string-statement,
    print-used,
    redundant-keyword-arg,
    reimported,
    relative-import,
    return-in-init,
    unreachable,
    except-pass,
    invalid-commit,
    missing-return,
    
    # -------------------------------------------------------------------------
    # STYLE CHECKS (warnings, not blocking)
    # -------------------------------------------------------------------------
    attribute-deprecated,
    attribute-string-redundant,
    class-camelcase,
    consider-merging-classes-inherited,
    context-overridden,
    renamed-field-parameter,
    use-vim-comment,
    wrong-tabs-instead-of-spaces,
    
    # -------------------------------------------------------------------------
    # FILE/RESOURCE CHECKS
    # -------------------------------------------------------------------------
    file-not-used,
    resource-not-exist,
    missing-newline-extrafiles,
    rst-syntax-error,
    incoherent-interpreter-exec-perm,
    
    # -------------------------------------------------------------------------
    # IMPORT CHECKS
    # -------------------------------------------------------------------------
    odoo-addons-relative-import,
    test-folder-imported,
    
    # -------------------------------------------------------------------------
    # PO/TRANSLATION CHECKS
    # -------------------------------------------------------------------------
    po-msgstr-variables,
    
    # -------------------------------------------------------------------------
    # OPTIONAL CHECKS (informational)
    # -------------------------------------------------------------------------
    # missing-readme,
    # missing-manifest-dependency,
    # deprecated-module,
    # too-complex,

[REPORTS]
msg-template={path}:{line}: [{msg_id}({symbol}), {obj}] {msg}
output-format=colorized
reports=no
