# =============================================================================
# PYLINT CONFIGURATION FOR ODOO MODULES - SOLTEIN
# =============================================================================
# This file is copied to client repositories by solt-pre-commit
# Compatible with pylint-odoo v9.x
# =============================================================================

[MASTER]
load-plugins=pylint_odoo
score=no

[ODOOLINT]
# README template URL
readme-template-url=https://github.com/soltein-net/solt-pre-commit/blob/main/templates/README-template.md

# Required author in manifest
manifest-required-authors=Soltein SA de CV

# Required keys in manifest
manifest-required-keys=license

# Deprecated keys in manifest
manifest-deprecated-keys=description,active

# Allowed licenses
license-allowed=AGPL-3,GPL-2,GPL-2 or any later version,GPL-3,GPL-3 or any later version,LGPL-3

# Valid Odoo versions
valid-odoo-versions=17.0,18.0

[MESSAGES CONTROL]
disable=all

# =============================================================================
# ENABLED CHECKS
# =============================================================================
# Run: pylint --load-plugins=pylint_odoo --list-msgs | grep -E "^:.*[CWER]8"
# to see all available pylint-odoo checks
# =============================================================================
enable=
    # -------------------------------------------------------------------------
    # CRITICAL - Syntax and Security (always blocking)
    # -------------------------------------------------------------------------
    sql-injection,
    eval-used,

    # -------------------------------------------------------------------------
    # MANIFEST CHECKS (C81xx)
    # -------------------------------------------------------------------------
    manifest-required-author,
    manifest-required-key,
    manifest-version-format,
    manifest-author-string,
    manifest-deprecated-key,
    manifest-maintainers-list,
    manifest-superfluous-key,
    manifest-behind-migrations,
    manifest-data-duplicated,
    license-allowed,
    development-status-allowed,
    missing-readme,

    # -------------------------------------------------------------------------
    # METHOD NAMING CHECKS (C81xx)
    # -------------------------------------------------------------------------
    method-compute,
    method-inverse,
    method-search,
    method-required-super,

    # -------------------------------------------------------------------------
    # TRANSLATION CHECKS (C81xx, W81xx, W83xx, E83xx)
    # -------------------------------------------------------------------------
    translation-required,
    translation-field,
    translation-contains-variable,
    translation-positional-used,
    translation-format-interpolation,
    translation-fstring-interpolation,
    translation-not-lazy,
    translation-too-few-args,
    translation-too-many-args,

    # -------------------------------------------------------------------------
    # CODE QUALITY (W81xx, E81xx)
    # -------------------------------------------------------------------------
    print-used,
    except-pass,
    invalid-commit,
    missing-return,
    context-overridden,
    external-request-timeout,
    no-raise-unlink,
    no-write-in-compute,

    # -------------------------------------------------------------------------
    # DEPRECATION CHECKS
    # -------------------------------------------------------------------------
    attribute-deprecated,
    deprecated-odoo-model-method,
    odoo-exception-warning,
    deprecated-name-get,

    # -------------------------------------------------------------------------
    # STYLE/QUALITY WARNINGS
    # -------------------------------------------------------------------------
    attribute-string-redundant,
    consider-merging-classes-inherited,
    renamed-field-parameter,
    use-vim-comment,
    website-manifest-key-not-valid-uri,
    odoo-addons-relative-import,
    test-folder-imported,
    bad-builtin-groupby,
    prefer-env-translation,
    inheritable-method-lambda,
    inheritable-method-string,
    prohibited-method-override,
    super-method-mismatch,

[REPORTS]
msg-template={path}:{line}: [{msg_id}({symbol}), {obj}] {msg}
output-format=colorized
reports=no
